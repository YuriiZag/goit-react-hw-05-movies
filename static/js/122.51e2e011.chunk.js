"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[122],{122:function(n,e,t){t.r(e),t.d(e,{default:function(){return k}});var r,u,i,o,c,a=t(861),s=t(439),f=t(757),l=t.n(f),d=t(791),p=t(87),h=t(689),m=t(990),x=t(321),v=t(168),Z=t(444),b=Z.ZP.ul(r||(r=(0,v.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: ","px;\n"])),(function(n){return n.theme.space[2]})),g=(0,Z.ZP)(p.rU)(u||(u=(0,v.Z)(["\n  font-size: ","px;\n"])),(function(n){return n.theme.fontSizes.s})),j=Z.ZP.form(i||(i=(0,v.Z)(["\n  padding-top: ","px;\n  padding-left: ","px;\n  padding-bottom: ","px;\n"])),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[6]}),(function(n){return n.theme.space[4]})),y=Z.ZP.input(o||(o=(0,v.Z)(["\n  padding: ","px;\n  border-radius: ","px 0 0\n    ","px;\n  border: ",";\n  outline: none;\n  :hover,\n  :focus {\n    border: "," ",";\n  }\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.borders.normal}),(function(n){return n.theme.borders.normal}),(function(n){return n.theme.colors.red})),_=Z.ZP.button(c||(c=(0,v.Z)(["\n  padding: ","px;\n  border-radius: 0 ","px \n    ","px 0;\n  \n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.radii.normal})),w=t(184),k=function(){var n,e=(0,d.useState)(""),t=(0,s.Z)(e,2),r=t[0],u=t[1],i=(0,d.useState)([]),o=(0,s.Z)(i,2),c=o[0],f=o[1],v=(0,p.lr)(),Z=(0,s.Z)(v,2),k=Z[0],q=Z[1],P=null!==(n=k.get("query"))&&void 0!==n?n:"",S=(0,h.TH)();(0,d.useEffect)((function(){var n,e=null!==(n=k.get("query"))&&void 0!==n?n:"";if(console.log(e),""!==e||void 0===e){var t="&query=".concat(e.trim());(0,m.Z)("search/movie",t).then((function(n){var e=n.data;return f(e.results)})).catch((function(n){return n}))}}),[k]);var C=function(){var n=(0,a.Z)(l().mark((function n(e){var t;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),z(r),"search/movie",t="&query=".concat(r.trim()),(0,m.Z)("search/movie",t).then((function(n){var e=n.data;return f(e.results)})).catch((function(n){return n})),u("");case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),z=function(n){q(""!==n?{query:n}:{})};return(0,w.jsxs)(x.x,{as:"section",pt:"30px",children:[(0,w.jsxs)(j,{onSubmit:C,children:[(0,w.jsx)("label",{htmlFor:"movie-name",children:(0,w.jsx)(y,{type:"text",name:"movie-name",onChange:function(n){u(n.currentTarget.value)},value:r})}),(0,w.jsx)(_,{type:"submit",children:"search"})]}),""!==P?(0,w.jsx)(b,{children:c.map((function(n){var e=n.id,t=n.title;return(0,w.jsx)("li",{children:(0,w.jsx)(g,{to:"".concat(e),state:{from:S},children:t})},e)}))}):(0,w.jsx)("p",{children:"input to search"})]})}}}]);
//# sourceMappingURL=122.51e2e011.chunk.js.map